CREATE TABLE NISA_SCHEMA.DATA_BARANG
(
  ID_BARANG      VARCHAR2(100 BYTE),
  NAMA           VARCHAR2(300 BYTE),
  KATEGORI       VARCHAR2(100 BYTE),
  JUMLAH_BARANG  NUMBER,
  KETERANGAN     VARCHAR2(500 BYTE)
) ;

CREATE INDEX NISA_SCHEMA.IDXBRNG_001 ON NISA_SCHEMA.DATA_BARANG
(ID_BARANG) ;

ALTER TABLE NISA_SCHEMA.DATA_BARANG
ADD CONSTRAINT id_barang_pk PRIMARY KEY (ID_BARANG);

----------------------------------------

CREATE TABLE NISA_SCHEMA.DATA_PEMBELI
(
  ID_PEMBELI       VARCHAR2(100 BYTE),
  NAMA             VARCHAR2(300 BYTE),
  NOMOR_IDENTITAS  VARCHAR2(50 BYTE),
  JENIS_KELAMIN    VARCHAR2(2 BYTE),
  ALAMAT           VARCHAR2(800 BYTE),
  NOMOR_HP         VARCHAR2(50 BYTE)
) ;

CREATE INDEX NISA_SCHEMA.IDXPMB_001 ON NISA_SCHEMA.DATA_PEMBELI
(ID_PEMBELI);


ALTER TABLE NISA_SCHEMA.DATA_PEMBELI
ADD CONSTRAINT ID_PEMBELI_pk PRIMARY KEY (ID_PEMBELI);

----------------------------------------

CREATE TABLE NISA_SCHEMA.DATA_PENJUALAN
(
  ID_PENJUALAN  VARCHAR2(100 BYTE),
  ID_BARANG     VARCHAR2(100 BYTE),
  ID_PEMBELI    VARCHAR2(100 BYTE),
  ID_TOKO       VARCHAR2(100 BYTE),
  JUMLAH_BELI   NUMBER,
  TANGGAL_BELI  DATE,
  LOKASI_TOKO   VARCHAR2(800 BYTE)
);
CREATE INDEX NISA_SCHEMA.IDXPEN_001 ON NISA_SCHEMA.DATA_PENJUALAN
(ID_PENJUALAN) ;


ALTER TABLE NISA_SCHEMA.DATA_PENJUALAN
ADD CONSTRAINT ID_PENJUALAN_PK PRIMARY KEY (ID_PENJUALAN);

ALTER TABLE NISA_SCHEMA.DATA_PENJUALAN
ADD CONSTRAINT DATA_PENJUALAN_FK_01
  FOREIGN KEY (ID_BARANG)
  REFERENCES NISA_SCHEMA.DATA_BARANG(ID_BARANG);
  
ALTER TABLE NISA_SCHEMA.DATA_PENJUALAN
ADD CONSTRAINT DATA_PENJUALAN_FK_02
  FOREIGN KEY (ID_TOKO)
  REFERENCES NISA_SCHEMA.DATA_PEMBELI(ID_PEMBELI);  
  
ALTER TABLE NISA_SCHEMA.DATA_PENJUALAN
ADD CONSTRAINT DATA_PENJUALAN_FK_03
  FOREIGN KEY (ID_TOKO)
  REFERENCES NISA_SCHEMA.TOKO(ID_TOKO);

----------------------------------------
 
CREATE TABLE NISA_SCHEMA.TOKO
(
  ID_TOKO    VARCHAR2(100 BYTE),
  NAMA_TOKO  VARCHAR2(300 BYTE),
  ALAMAT     VARCHAR2(800 BYTE)
);
CREATE INDEX NISA_SCHEMA.IDXTOKO_001 ON NISA_SCHEMA.TOKO
(ID_TOKO);

ALTER TABLE NISA_SCHEMA.TOKO
ADD CONSTRAINT ID_TOKO_PK PRIMARY KEY (ID_TOKO);